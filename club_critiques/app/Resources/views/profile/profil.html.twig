{% extends "@FOSUser/layout.html.twig" %}

{% trans_default_domain 'FOSUserBundle' %}

{% block js %}
    <script src="{{ asset('js/contenus.js') }}"></script>
{% endblock %}
{% block fos_user_content %}
    <div class="wrapper container-fluid">
        <div class="row">
            <div class="col-md-offset-3 wrap-profil">
                <div class="col-md-3">
                    <div class="photo-profil">
                        <img class="img-responsive" src="{{ asset('img/avatar_placeholder.png') }}">
                    </div>
                    <div id="liens-profil">
                        <a href="{{ path('fos_user_profile_edit') }}">Modifier mes informations</a><br>
                        <a href="{{ path('fos_user_change_password') }}">Modifier mon mot de passe</a><br>
                    </div>
                </div>

                </div>
                <div class="col-md-6 ">
                    <div class="description-profil">
                        <h1><span class="nom">{{ user.lastName }}</span> {{ user.firstName }}</h1>
                        <h2>{{ 'profile.show.username'|trans }}: {{ user.username }}</h2>
                        <a href="#"><h2>{{ 'profile.show.email'|trans }}: {{ user.email }}</h2></a>
                        <div class="paragraphe-description">
                            {{ user.description }}
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent molestie pretium viverra. Suspendisse id dui dictum eros pretium feugiat. Vestibulum id nisl semper, tincidunt lacus ac, consequat sapien. Ut tincidunt quis magna eget ultricies. Curabitur vitae mollis odio. Nullam convallis ipsum ac semper tincidunt. Vivamus ac dui efficitur, tristique ex eu, tincidunt elit. Mauris et condimentum justo. Phasellus facilisis arcu sit amet ipsum viverra sodales. Maecenas vitae felis eget nibh sodales pulvinar in sit amet libero. Aenean ut massa elit.<br><br>
                                Proin sollicitudin sagittis sem eget lacinia. Interdum et malesuada fames ac ante ipsum primis in faucibus. Sed congue lectus ut consectetur aliquet. Interdum et malesuada fames ac ante ipsum primis in faucibus. Praesent pellentesque neque vehicula tristique finibus. Cras imperdiet elementum enim, eget dignissim massa cursus vel. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Nullam hendrerit massa non pretium lobortis. Fusce suscipit consequat sem, rutrum consectetur nisi sodales et.</p>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="row">
            {% if user.getContacts().count > 0 %}
                <table class="list-contact">
                    <thead>
                    <tr>
                        <th>Nom</th>
                        <th>Prénom</th>
                        <th>Email</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for contact in user.getContacts() %}
                        <tr>
                            <td>{{ contact.lastName }}</td>
                            <td>{{ contact.firstName }}</td>
                            <td>{{ contact.email }}</td>
                            <td><a href="{{ path('user', {'id': contact.id}) }}">Voir le profil</a><a href="{{ path('user_remove', {'id': contact.id}) }}">Supprimer</a></td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p>Aucun contacts</p>
            {% endif %}
        </div>
        <div class="row">
            <h2>Ce que je cherche</h2>
            {% if user.getContentsWanted().count > 0 %}
                <table class="table-list-content">
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th>Catégorie</th>
                            <th>Titre</th>
                            <th>Auteur</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for content in user.getContentsWanted() %}
                            <tr>
                                <td>{{ content.category.parentCategory }}</td>
                                <td>{{ content.category.name }}</td>
                                <td>{{ content.title }}</td>
                                <td>{{ content.author.name }}</td>
                                <td><a href="{{ path('user_remove_content', {'content_id': content.id, 'type': 2}) }}">Supprimer</a></td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <a href="{{ path("contenus", {'modeAdd': 1}) }}">Ajouter un contenu</a>
            {% endif %}
        </div>
        <div class="row">
            <h2>Ce que j'ai</h2>
            {% if user.getContentsToShare().count > 0 %}
                <table class="table-list-content">
                    <thead>
                    <tr>
                        <th>Type</th>
                        <th>Catégorie</th>
                        <th>Titre</th>
                        <th>Auteur</th>
                        <th>Action</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for content in user.getContentsToShare() %}
                        <tr>
                            <td>{{ content.category.parentCategory }}</td>
                            <td>{{ content.category.name }}</td>
                            <td>{{ content.title }}</td>
                            <td>{{ content.author.name }}</td>
                            <td><a href="{{ path('user_remove_content', {'content_id': content.id, 'type': 1}) }}">Supprimer</a></td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <a href="{{ path("contenus", {'modeAdd': 1}) }}">Ajouter un contenu</a>
            {% endif %}
        </div>
    </div>
{% endblock %}