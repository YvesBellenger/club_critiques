{% extends 'base.html.twig' %}
{% block js %}
    <script src="{{ asset('js/contenus.js') }}"></script>
{% endblock %}
{% block body %}
    <div class="floating-menu floating-menu-profile">
        <a href="#"><button>Contacter</button></a>
        <a href="{{ path('user_add', {'id': user.id}) }}"><button>Ajouter aux contacts</button></a>
    </div>

    <div class="wrapper container-fluid">
        <div class="row">
            <div class="col-md-offset-3 wrap-profil">
                <div class="">
                    <div class="col-md-3 photo-profil">
                        <img class="img-responsive" src="{{ asset('img/avatar_placeholder.png') }}">
                    </div>
                </div>
                <div class="col-md-6 ">
                    <div class="description-profil">
                        <h1><span class="nom">{{ user.username }}{{ user.lastName }}</span> {{ user.firstName }}</h1>
                        <div class="paragraphe-description">
                            {{ user.description }}
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent molestie pretium viverra. Suspendisse id dui dictum eros pretium feugiat. Vestibulum id nisl semper, tincidunt lacus ac, consequat sapien. Ut tincidunt quis magna eget ultricies. Curabitur vitae mollis odio. Nullam convallis ipsum ac semper tincidunt. Vivamus ac dui efficitur, tristique ex eu, tincidunt elit. Mauris et condimentum justo. Phasellus facilisis arcu sit amet ipsum viverra sodales. Maecenas vitae felis eget nibh sodales pulvinar in sit amet libero. Aenean ut massa elit.<br><br>
                                Proin sollicitudin sagittis sem eget lacinia. Interdum et malesuada fames ac ante ipsum primis in faucibus. Sed congue lectus ut consectetur aliquet. Interdum et malesuada fames ac ante ipsum primis in faucibus. Praesent pellentesque neque vehicula tristique finibus. Cras imperdiet elementum enim, eget dignissim massa cursus vel. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Nullam hendrerit massa non pretium lobortis. Fusce suscipit consequat sem, rutrum consectetur nisi sodales et.</p>
                        </div>
                    </div>

                </div>
            </div>
        </div>


        <div class="wrap-mini-contacts">
            <div class="row">
                <div class="col-md-12">
                    <h2>Contacts de {{ user.username }}</h2>
                </div>
            </div>
            {% if user.getContacts().count > 0 %}
                <div class="row">
                    {% for contact in user.getContacts() %}
                        <div class="col-md-2 mini-contact">
                            <a href="{{ path('user', {'id': contact.id}) }}"><img class="img-responsive" src="{{ asset('img/avatar_placeholder.png') }}"></a>
                            <h3>{{ contact.username }}</h3>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="row">
                    <p>Aucun contacts</p>
                </div>
            {% endif %}
        </div>

        {% if user.getContentsWanted().count > 0 %}
            <div class="wrap-mini-contents">
                <div class="row">
                    <div class="col-md-12">
                        <h2>Ce que {{ user.username }} cherche</h2>
                    </div>
                </div>
                <div class="row">
                {% for content in user.getContentsWanted() %}
                    <div class="col-md-2 mini-content echange">
                        <a href="#"><img class="img-responsive" src="{{ asset('img/cover_placeholder.jpg') }}"></a>
                        <h3>{{ content.title }}</h3>
                        <a href="#"><h4>{{ content.author.name }}</h4></a>
                    </div>
                {% endfor %}
                </div>
            </div>
        {% endif %}
        {% if user.getContentsToShare().count > 0 %}
            <div class="wrap-mini-contents">
                <div class="row">
                    <div class="col-md-12">
                        <h2>Ce que {{ user.username }} propose</h2>
                    </div>
                </div>
                <div class="row">
                    {% for content in user.getContentsToShare() %}
                        <div class="col-md-2 mini-content echange">
                            <a href="#"><img class="img-responsive" src="{{ asset('img/cover_placeholder.jpg') }}"></a>
                            <h3>{{ content.title }}</h3>
                            <a href="#"><h4>{{ content.author.name }}</h4></a>
                        </div>
                    {% endfor %}
                </div>
            </div>
        {% endif %}
        <hr>
        <div class="row">
            <h2 class="col-md-offset-3"> Contactez {{ user.lastName }} {{ user.firstName }}</h2>
        </div>
        <div class="wrap-form">
            {{ form_start(form) }}

            <div class="row">
                <label class="col-md-offset-4 col-md-1">Nom : </label>
                {{ form_widget(form.name) }}
                {{ form_errors(form.name) }}
            </div>
            <div class="row">
                <label class="col-md-offset-4 col-md-1">Email : </label>
                {{ form_widget(form.email) }}
                {{ form_errors(form.email) }}
            </div>
            <div class="row">
                <label class="col-md-offset-4 col-md-1">Sujet : </label>
                {{ form_widget(form.subject) }}
                {{ form_errors(form.subject) }}
            </div>
            <div class="row">
                <label class="col-md-offset-4 col-md-1">Message : </label>
                {{ form_widget(form.message) }}
                {{ form_errors(form.message) }}
            </div>
            <div style="display:none">
                {{ form_rest(form) }}
            </div>
            <div class="row">
                <input type="submit" value="Envoyer" class="col-md-offset-5">
            </div>


            {{ form_end(form) }}
        </div>

    </div>
{% endblock %}